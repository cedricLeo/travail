{% extends '::base1.html.twig' %}
{% block content %}
<div class="boiteinfo">
{% if exist == 0 %}
	<h1 >{{ "ajouter.corpo" | trans }}</h1>
{% else %}
	<h1>{{ "modifier.corpo" | trans }} « {{ name }} »</h1>
{% endif %}
		<div class="ouvert">
			<div class="gris">
				<form action="" method="post" {{ form_enctype(form) }} class="update_state_form">	
					{% if exist == 1 %}
				    <a href="#delete_hide" name="#reset" class="confirm_delete" title="{{ "supprimer.corpo" | trans }}">Supprimer</a><a href="#delete_hide" name="#reset" class="confirm_delete" title="Pour supprimer une chambre"><img src="{{ asset('bundles/myappadmin/images/Stop.png') }}" class="icon_delete"></a>
				    <div id="delete_hide">
				    	<p >{{ "supprimer.corpo" | trans }}: {{ name }} ?</p>
						<a href="{{ path('MyAppDeleteCorporatif', {'idclient':id, 'name':repertoire, 'idcorpo':idcorpo, 'redirect':redirect}) }}" class="detroye_state2" >Supprimer</a>
						<a href="#reset" class="boutonannuler2 ajuste_btn_cancel2">{{ "annuler" | trans }}</a>
				    </div>	
				    <p></p>
				    {% endif %}
				    <p class="resize_p_form">&nbsp;</p>   	
				    {{ form_label(form.actif, "active.le.corpo" | trans, {'attr':{'class':'lblnompays lblcheckbox'}}) }}
				    {{ form_widget(form.actif, {'attr':{'class':'checkbox'}}) }}	
				    {{ form_errors(form.actif) }}	
				    {{ form_label(form.nom_fr, "nom.fr" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.nom_fr, {'attr':{'class':'txt_add_state'}}) }}	
				    {{ form_errors(form.nom_fr ) }}
				    {{ form_label(form.nom_en, "nom.en" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.nom_en, {'attr':{'class':'txt_add_state'}}) }}	
				    {{ form_errors(form.nom_en ) }}
				    {{ form_label(form.email_corporatif, "email.corporatif" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.email_corporatif, {'attr':{'class':'txt_add_state'}}) }}
				    {{ form_errors(form.email_corporatif ) }}
				    {{ form_label(form.corporatif_service_id, "service.corporatif" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.corporatif_service_id, {'attr':{'class':'txt_add_state '}}) }}	  
				    {{ form_errors(form.corporatif_service_id ) }}
                                    <p class="resize_p_form">&nbsp;</p>
                                    {{ form_label(form.type_evenement, "type.evenement" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.type_evenement, {'attr':{'class':'txt_add_state '}}) }}	
				    {{ form_errors(form.type_evenement ) }}
				    <p class="resize_p_form">&nbsp;</p>
				    {{ form_label(form.texte_salle_corporative_fr, "texte.corporatif.fr" | trans, {'attr':{'class':'lblnompays flag_fr'}}) }}
				    {{ form_widget(form.texte_salle_corporative_fr, {'attr':{'class':'txt_add_state'}}) }}
				    {{ form_errors(form.texte_salle_corporative_fr ) }}
				    <p class="resize_p_form">&nbsp;</p>
				    {{ form_label(form.texte_salle_corporative_en, "texte.corporatif.en" | trans, {'attr':{'class':'lblnompays flag_en'}}) }}
				    {{ form_widget(form.texte_salle_corporative_en, {'attr':{'class':'txt_add_state'}}) }}
				    {{ form_errors(form.texte_salle_corporative_en ) }}
				    <p class="resize_p_form">&nbsp;</p>
				    {{ "dimension.en.metre" | trans }}
				    {{ form_label(form.profondeur_metre, "profondeur.metre" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.profondeur_metre, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.profondeur_metre ) }}
				    {{ form_label(form.largeur_metre, "largeur.metre" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.largeur_metre, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.largeur_metre ) }}
				   {# {{ form_label(form.hauteur_metre, "hauteur.metre" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.hauteur_metre, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}#}
				    {{ "dimension.en.pouce" | trans }}
				    {{ form_label(form.profondeur, "profondeur.pied" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.profondeur, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.profondeur ) }}
				    {{ form_label(form.largeur, "largeur.pied" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.largeur, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.largeur ) }}
				   {# {{ form_label(form.hauteur, "hauteur.pied" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.hauteur, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}#}
				    {{ form_label(form.banquet, "banquet" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.banquet, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.banquet ) }}
				    {{ form_label(form.carre_ouvert, "carre.ouvert" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.carre_ouvert, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.carre_ouvert ) }}
				    {{ form_label(form.chevron, "chevron" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.chevron, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.chevron ) }}
				    {{ form_label(form.conference, "conference" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.conference, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.conference ) }}
				    {{ form_label(form.demi_lune, "demi.lune" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.demi_lune, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.demi_lune ) }}
				    {{ form_label(form.ecole, "ecole" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.ecole, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.ecole ) }}
				    {{ form_label(form.en_t, "en.t" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.en_t, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.en_t ) }}
				    {{ form_label(form.en_u, "en.u" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.en_u, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.en_u ) }}
				    {{ form_label(form.salon_commercial, "salon.commercial" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.salon_commercial, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.salon_commercial ) }}
				    {{ form_label(form.theatre, "theatre" | trans, {'attr':{'class':'lblnompays'}}) }}
				    {{ form_widget(form.theatre, {'attr':{'class':'txt_add_state', 'maxlength' : "10"}}) }}
				    {{ form_errors(form.theatre ) }}
				    {{ form_label(form.fichier_liste_salles_fr_doctrine, "fichier.liste.salle.fr" | trans, {'attr':{'class':'lblnompays flag_fr'}}) }}
				    {{ form_widget(form.fichier_liste_salles_fr_doctrine, {'attr':{'class':'txt_add_state'}}) }}
				    {{ form_errors(form.fichier_liste_salles_fr_doctrine ) }}
				    {# PDF FRANÇAIS LISTE #}
				    {% if listePdfFr != "" %}
				    <a href="{{ asset('uploads/hebergement/liste/french') }}{{ idcorpo }}/{{ listePdfFr }}" target="_blank" class="linkPdf"><img src="{{ asset('bundles/myappadmin/images/Document-pdf.png') }}"  class="iconPdf" title="{{ listePdfFr }}" alt="PDF"/><p>{{ listePdfFr }}</p></a>
				    {% endif %}
				    {{ form_label(form.fichier_liste_salles_en_doctrine, "fichier.liste.salle.en" | trans, {'attr':{'class':'lblnompays flag_en'}}) }}
				    {{ form_widget(form.fichier_liste_salles_en_doctrine, {'attr':{'class':'txt_add_state'}}) }}
				    {{ form_errors(form.fichier_liste_salles_en_doctrine ) }}
				    {# PDF ANGLAIS LISTE #}
				    {% if listePdfEn != "" %}
				    <a href="{{ asset('uploads/hebergement/liste/english') }}{{ idcorpo }}/{{ listePdfEn }}" target="_blank" class="linkPdf"><img src="{{ asset('bundles/myappadmin/images/Document-pdf.png') }}"  class="iconPdf" title="{{ listePdfEn }}" alt="PDF"/><p>{{ listePdfEn }}</p></a>
				    {% endif %}
				    {{ form_label(form.fichier_plan_salles_fr_doctrine, "fichier.plan.salle.fr" | trans, {'attr':{'class':'lblnompays flag_fr'}}) }}
				    {{ form_widget(form.fichier_plan_salles_fr_doctrine, {'attr':{'class':'txt_add_state'}}) }}
				    {{ form_errors(form.fichier_plan_salles_fr_doctrine ) }}
				     {# PDF FRANÇAIS PLAN #}
				     {% if planPdfFr != "" %}
				    <a href="{{ asset('uploads/hebergement/plan/french') }}{{ idcorpo }}/{{ planPdfFr }}" target="_blank" class="linkPdf"><img src="{{ asset('bundles/myappadmin/images/Document-pdf.png') }}"  class="iconPdf" title="{{ planPdfFr }}" alt="PDF"/><p>{{ planPdfFr }}</p></a>
				    {% endif %}
				    {{ form_label(form.fichier_plan_salles_en_doctrine, "fichier.plan.salle.en" | trans, {'attr':{'class':'lblnompays flag_en'}}) }}
				    {{ form_widget(form.fichier_plan_salles_en_doctrine, {'attr':{'class':'txt_add_state'}}) }}
				    {{ form_errors(form.fichier_plan_salles_en_doctrine ) }}
				    {# PDF ANGLAIS PLAN #}
				    {% if planPdfEn != "" %}
				    <a href="{{ asset('uploads/hebergement/plan/english') }}{{ idcorpo }}/{{ planPdfEn }}" target="_blank" class="linkPdf"><img src="{{ asset('bundles/myappadmin/images/Document-pdf.png') }}"  class="iconPdf" title="{{ planPdfEn }}" alt="PDF"/><p>{{ planPdfEn }}</p></a>
				    {% endif %}
				    {# GALERIE PHOTO #}	
				    <h3 id="Hour_summer">{{ "galerie.photo" | trans }}</h3>
					<div id="Open_summer">
				    	<ul class="tags" data-prototype="{{ form_widget(form.galerie_corpo.vars.prototype)|e }}"> </ul>
				    	{{ form_errors(form.galerie_corpo ) }}
						{% include '::galerie_photo.html.twig' %}
						{# AFFICHAGE ET SUPPRÉSSION DES THUMBNAILS #}
						{% include 'MyAppCustomerBundle:MiniSite:display_gallery_corporatif.xml.twig' %}
					</div>
				    <p class="resize_p_form">&nbsp;</p>	
				    {{ form_rest(form) }}	
				    <input type="submit" value="{{ "submit.texte.attrait" | trans }}" class="boutonvalidenregistrer2 boutonvalideenregistrerform2"/>
				    <a href="{{ path('_Dashboard_compteCustomer') }}" class="boutonannuler2 boutonannulerform2">{{ "annuler" | trans }}</a>
				</form>
				<script>                             
					$(function(){
                                                //ajoute l'adresse de l'email corporatif dans le champ
                                                $("#add_corporatif_email_corporatif").attr("value", "{{ emailCorpo }}");
                                                
						$("#Open_summer").hide();
						$("#Hour_summer").click(function(){
							$("#Open_summer").slideToggle();
						});
						var $gallery = $("#add_corporatif_galerie_corpo");
						$("#Open_summer").append($gallery);
						$("form.update_state_form div").last().remove();
						//Ajoute une checkbox pour la suppression des images de la galerie photo
						$("#add_corporatif_galerie_corpo > div").append("<input type='checkbox' class='checkboxdeletegalerie'></input> <label class='labeldynamique'> {{ 'supprimer' | trans }}</label>");		
						//Cache les premières label des div de la galerie photo
						$("#add_corporatif_galerie_corpo > div > label:first-child").remove();
						//Convertion mètre en pied
						//profondeur
						$("#add_corporatif_profondeur_metre").keyup(function(){
							$pm = $(this).val();
							$conversionpiedp = $pm * 3.281;
							$("#add_corporatif_profondeur").val(Math.round($conversionpiedp));
						});
						//largeur
						$("#add_corporatif_largeur_metre").keyup(function(){
							$lm = $(this).val();
							$conversionpiedl = $lm * 3.281;
							$("#add_corporatif_largeur").val(Math.round($conversionpiedl));
						});
						//Conversion pied en mètre
						//profondeur
						$("#add_corporatif_profondeur").keyup(function(){
							$pp = $(this).val();
							$conversionmetrep = $pp * 0.30478513;
							$("#add_corporatif_profondeur_metre").val(Math.round($conversionmetrep));
						});
						//largeur
						$("#add_corporatif_largeur").keyup(function(){
							$lp = $(this).val();
							$conversionmetrel = $lp * 0.30478513;
							$("#add_corporatif_largeur_metre").val(Math.round($conversionmetrel));
						});
                                                
					});
				</script>	
			<br class="clearfloat">
			</div>
		</div>
</div>
{% endblock %}